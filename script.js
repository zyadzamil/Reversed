const words = [
  "مدرسة", "جامعة", "مستشفى", "مطار", "مكتبة", "مطبخ", "مطعم", "مسرح", "ميدان", "مدينة",
  "مشروع", "محطة", "مرآة", "مرشد", "مذكرة", "ملاحق", "مصباح", "مصدر", "مكتب", "مخطط",
  "منارة", "منزلي", "ممتاز", "منتزه", "منطقة", "معركة", "مغربي", "مفتاح", "مفهوم", "مقياس",
  "نموذج", "نهاية", "نجارة", "نجمة", "نظافة", "نظامي", "نهائي", "نوافذ", "نكتة", "نقطة",
  "هاتف", "هدية", "هدف", "هندسة", "هواية", "هجرة", "هدوء", "هياكل", "هطول", "هزيمة",
  "وضوح", "وجبة", "وجهة", "وقاية", "وردة", "وقود", "وطن", "وظيفة", "وثيقة", "ورشة",
  "وصية", "ولاية", "وتيرة", "وافد", "وكالة", "وقائع", "وقوف", "وزن", "وقاحة", "وسام",
  "بحرية", "بستان", "برميل", "بطارية", "بوصلة", "بسمة", "بضاعة", "بنكهة", "بهيجة", "بديهة",
  "تاريخ", "تحدي", "تحفة", "تحليل", "تقنية", "تقدير", "تقييم", "تكريم", "توجيه", "توزيع",
  "ثلاجة", "ثروة", "ثنائي", "ثقافة", "ثقل", "ثياب", "ثواني", "ثقة", "ثمودي", "ثمار",
  "جبلية", "جرس", "جوهرة", "جماعة", "جدارية", "جرثومة", "جهاز", "جغرافيا", "جمارك", "جودة",
  "حقيبة", "حلاقة", "حصيلة", "حكاية", "حديقة", "حكمة", "حفلة", "حمامة", "حنجرة", "حماسة",
  "خزانة", "خشونة", "خرافة", "خصوبة", "خميرة", "خليج", "خوارزم", "خيط", "خيار", "دراجة",
  "دائرة", "دقيقة", "دوائر", "ديك", "دليل", "ديكور", "ديمقراطية", "دوام", "دواء", "ذخيرة",
  "ذريعة", "ذهب", "ذئب", "ذكرى", "ذيول", "ذوق", "ذرة", "ذباب", "ذكاء", "رؤية",
  "رواية", "رحلة", "رئاسة", "رائحة", "رصيد", "رنين", "رصيف", "رفاق", "رفاهية", "زاوية",
  "زجاج", "زيارة", "زهرة", "زقاق", "زمرد", "زراعة", "زيتون", "زينة", "زبون", "ساعة",
  "سفينة", "سمكري", "سياحة", "سماعة", "سعادة", "سلحفاة", "ساحة", "سطح", "سوق", "شاشة",
  "شهادة", "شمعة", "شرفة", "شجرة", "شحن", "شروق", "شوارع", "شقيق", "شمسية", "صحراء",
  "صندوق", "صورة", "صوت", "صياد", "صحيفة", "صمام", "صفقة", "صحوة", "صالة", "طائرة",
  "طبيعة", "طفولة", "طعام", "طماطم", "طنجرة", "طيف", "طبخ", "طاولة", "ظاهرة", "ظل",
  "ظرف", "ظلال", "ظهور", "ظاهرة", "ظنون", "ظهيرة", "ظفر", "ظلام", "عائلة", "عاصمة",
  "عزيمة", "عنوان", "علم", "عطر", "عناية", "عسل", "عبقرية", "عيد", "غابة", "غرفة",
  "غيمة", "غذاء", "غليون", "غروب", "غاية", "غير", "غدير", "غسالة", "فكرة", "فستان",
  "فصول", "فرصة", "فجر", "فيل", "فارس", "فن", "فريق", "فراشة", "قائمة", "قدوة",
  "قبيلة", "قانون", "قلعة", "قدرة", "قمر", "قرية", "قطار", "قرنفل", "كوكب", "كأس",
  "كعكة", "كتاب", "كرسي", "كهرباء", "كوب", "كنز", "كواليس", "كواكب", "لبن", "لغز",
  "لوحة", "لوز", "لقاء", "لياقة", "ليل", "لؤلؤ", "لعبة", "مزرعة", "مملكة", "مسجد",
  "مكتبة", "مظلة", "مياه", "ملعب", "مقهى", "مسافة", "مطرقة", "نجم", "نهر", "نجفة",
  "نبات", "نظارات", "نشاط", "نخلة", "نسمة", "نقطة", "نداء", "هاتف", "هدية", "هدف",
  "هندسة", "هواية", "هجرة", "هدوء", "هياكل", "هطول", "هزيمة", "وضوح", "وجبة", "وجهة",
  "وقاية", "وردة", "وقود", "وطن", "وظيفة", "وثيقة", "ورشة", "وصية", "ولاية", "وتيرة",
  "وافد", "وكالة", "وقائع", "وقوف", "وزن", "وقاحة", "وسام", "بحرية", "بستان", "برميل",
  "بطارية", "بوصلة", "بسمة", "بضاعة", "بنكهة", "بهيجة", "بديهة", "تاريخ", "تحدي", "تحفة",
  "تحليل", "تقنية", "تقدير", "تقييم", "تكريم", "توجيه", "توزيع", "ثلاجة", "ثروة", "ثنائي",
  "ثقافة", "ثقل", "ثياب", "ثواني", "ثقة", "ثمودي", "ثمار", "جبلية", "جرس", "جوهرة", "جماعة",
  "جدارية", "جرثومة", "جهاز", "جغرافيا", "جمارك", "جودة", "حقيبة", "حلاقة", "حصيلة", "حكاية",
  "حديقة", "حكمة", "حفلة", "حمامة", "حنجرة", "حماسة", "خزانة", "خشونة", "خرافة", "خصوبة",
  "خميرة", "خليج", "خوارزم", "خيط", "خيار", "دراجة", "دائرة", "دقيقة", "دوائر", "ديك", "دليل",
  "ديكور", "ديمقراطية", "دوام", "دواء", "ذخيرة", "ذريعة", "ذهب", "ذئب", "ذكرى", "ذيول",
  "ذوق", "ذرة", "ذباب", "ذكاء", "رؤية", "رواية", "رحلة", "رئاسة", "رائحة", "رصيد", "رنين",
  "رصيف", "رفاق", "رفاهية", "زاوية", "زجاج", "زيارة", "زهرة", "زقاق", "زمرد", "زراعة",
  "زيتون", "زينة", "زبون", "ساعة", "سفينة", "سمكري", "سياحة", "سماعة", "سعادة", "سلحفاة",
  "ساحة", "سطح", "سوق", "شاشة", "شهادة", "شمعة", "شرفة", "شجرة", "شحن", "شروق", "شوارع",
  "شقيق", "شمسية", "صحراء", "صندوق", "صورة", "صوت", "صياد", "صحيفة", "صمام", "صفقة",
  "صحوة", "صالة", "طائرة", "طبيعة", "طفولة", "طعام", "طماطم", "طنجرة", "طيف", "طبخ",
  "طاولة", "ظاهرة", "ظل", "ظرف", "ظلال", "ظهور", "ظاهرة", "ظنون", "ظهيرة", "ظفر", "ظلام",
  "عائلة", "عاصمة", "عزيمة", "عنوان", "علم", "عطر", "عناية", "عسل", "عبقرية", "عيد",
  "غابة", "غرفة", "غيمة", "غذاء", "غليون", "غروب", "غاية", "غير", "غدير", "غسالة",
  "فكرة", "فستان", "فصول", "فرصة", "فجر", "فيل", "فارس", "فن", "فريق", "فراشة",
  "قائمة", "قدوة", "قبيلة", "قانون", "قلعة", "قدرة", "قمر", "قرية", "قطار", "قرنفل",
  "كوكب", "كأس", "كعكة", "كتاب", "كرسي", "كهرباء", "كوب", "كنز", "كواليس", "كواكب",
  "لبن", "لغز", "لوحة", "لوز", "لقاء", "لياقة", "ليل", "لؤلؤ", "لعبة", "مزرعة",
  "مملكة", "مسجد", "مكتبة", "مظلة", "مياه", "ملعب", "مقهى", "مسافة", "مطرقة", "نجم",
  "نهر", "نجفة", "نبات", "نظارات", "نشاط", "نخلة", "نسمة", "نقطة", "نداء"
];
let currentWord = "";

// دالة لتوليد كلمة جديدة عشوائية
function generateNewWord() {
  currentWord = words[Math.floor(Math.random() * words.length)];
  document.getElementById('word-display').textContent = "تم توليد كلمة جديدة!";
}

// دالة لنطق الحروف بالعكس
function reverseWord() {
  if (currentWord) {
    const reversed = currentWord.split('').reverse().join('');
    speakLetterByLetter(reversed); // نطق الحروف بالعكس
    document.getElementById('word-display').textContent = "تم نطق الكلمة الصحيحة!";
  }
}

// دالة لنطق الكلمة الصحيحة
function sayRealWord() {
  if (currentWord) {
    speakWord(currentWord);
    document.getElementById('word-display').textContent = "تم نطق الكلمة الصحيحة!";
  }
}

// دالة لنطق الكلمة كاملة
function speakWord(word) {
  const utterance = new SpeechSynthesisUtterance(word);
  const voices = speechSynthesis.getVoices();
  
  // البحث عن الصوت العربي
  let arabicVoice = voices.find(voice => voice.lang === "ar-SA" || voice.lang === "ar-EG");

  if (arabicVoice) {
    utterance.voice = arabicVoice; // تعيين الصوت العربي
  } else {
    // إذا لم يتم العثور على صوت عربي، استخدم الصوت الافتراضي
    utterance.voice = voices[0];
  }
  
  utterance.rate = 1; // معدل النطق
  speechSynthesis.speak(utterance);
}

// دالة لنطق الحروف واحدة تلو الأخرى
function speakLetterByLetter(word) {
  let index = 0;
  const interval = setInterval(() => {
    if (index < word.length) {
      const letter = word[index];
      const utterance = new SpeechSynthesisUtterance(letter);
      const voices = speechSynthesis.getVoices();
      
      // البحث عن الصوت العربي
      let arabicVoice = voices.find(voice => voice.lang === "ar-SA" || voice.lang === "ar-EG");

      if (arabicVoice) {
        utterance.voice = arabicVoice; // تعيين الصوت العربي
      } else {
        // إذا لم يتم العثور على صوت عربي، استخدم الصوت الافتراضي
        utterance.voice = voices[0];
      }
      
      utterance.rate = 1.1; // معدل النطق
      speechSynthesis.speak(utterance);
      index++;
    } else {
      clearInterval(interval); // إيقاف النطق بعد أن يتم نطق جميع الحروف
    }
  }, 1); // تأخير 600 مللي ثانية بين كل حرف وآخر
}

// إضافة المستمعين للأزرار
document.getElementById('generate-btn').addEventListener('click', generateNewWord);
document.getElementById('reverse-btn').addEventListener('click', reverseWord);
document.getElementById('say-word-btn').addEventListener('click', sayRealWord);

generateNewWord(); // توليد كلمة جديدة عند تحميل الصفحة